Version 4
SHEET 1 3092 1476
WIRE 832 -464 816 -464
WIRE 1744 -464 1728 -464
WIRE 2944 -464 2928 -464
WIRE 816 -448 816 -464
WIRE 1456 -448 1456 -496
WIRE 1744 -448 1744 -464
WIRE 2656 -448 2656 -496
WIRE 2944 -448 2944 -464
WIRE 768 -432 720 -432
WIRE 1840 -432 1792 -432
WIRE 3040 -432 2992 -432
WIRE 832 -400 832 -464
WIRE 832 -400 816 -400
WIRE 1376 -400 1344 -400
WIRE 1504 -400 1472 -400
WIRE 1728 -400 1728 -464
WIRE 1744 -400 1728 -400
WIRE 2576 -400 2544 -400
WIRE 2704 -400 2672 -400
WIRE 2928 -400 2928 -464
WIRE 2944 -400 2928 -400
WIRE 1424 -368 1424 -400
WIRE 2624 -368 2624 -400
WIRE 1424 -352 1424 -368
WIRE 2624 -352 2624 -368
WIRE 816 -288 816 -352
WIRE 1344 -288 1344 -400
WIRE 1344 -288 1040 -288
WIRE 1504 -288 1504 -400
WIRE 1744 -288 1744 -352
WIRE 1744 -288 1504 -288
WIRE 1840 -288 1840 -432
WIRE 1888 -288 1840 -288
WIRE 2544 -288 2544 -400
WIRE 2544 -288 2240 -288
WIRE 2704 -288 2704 -400
WIRE 2944 -288 2944 -352
WIRE 2944 -288 2704 -288
WIRE 3040 -288 3040 -432
WIRE 3088 -288 3040 -288
WIRE 720 -272 720 -432
WIRE 720 -272 592 -272
WIRE 816 -224 816 -288
WIRE 1744 -224 1744 -288
WIRE 2944 -224 2944 -288
WIRE 592 -192 592 -272
WIRE 832 -176 816 -176
WIRE 1744 -176 1728 -176
WIRE 2944 -176 2928 -176
WIRE 720 -144 720 -272
WIRE 768 -144 720 -144
WIRE 1344 -144 1344 -288
WIRE 1376 -144 1344 -144
WIRE 1424 -144 1424 -192
WIRE 1504 -144 1504 -288
WIRE 1504 -144 1472 -144
WIRE 1840 -144 1840 -288
WIRE 1840 -144 1792 -144
WIRE 2544 -144 2544 -288
WIRE 2576 -144 2544 -144
WIRE 2624 -144 2624 -192
WIRE 2704 -144 2704 -288
WIRE 2704 -144 2672 -144
WIRE 3040 -144 3040 -288
WIRE 3040 -144 2992 -144
WIRE 832 -128 832 -176
WIRE 832 -128 816 -128
WIRE 1728 -128 1728 -176
WIRE 1744 -128 1728 -128
WIRE 2928 -128 2928 -176
WIRE 2944 -128 2928 -128
WIRE 1744 -96 1744 -128
WIRE 2944 -96 2944 -128
WIRE 592 -64 592 -112
WIRE 816 -64 816 -128
WIRE 1392 -48 1392 -96
WIRE 2592 -48 2592 -96
WIRE 704 16 592 16
WIRE 1200 64 1184 64
WIRE 2400 64 2384 64
WIRE 592 80 592 16
WIRE 1184 80 1184 64
WIRE 2384 80 2384 64
WIRE 1136 96 1088 96
WIRE 2336 96 2288 96
WIRE 816 112 816 64
WIRE 2080 112 2080 64
WIRE 1200 128 1200 64
WIRE 1200 128 1184 128
WIRE 2400 128 2400 64
WIRE 2400 128 2384 128
WIRE 800 160 768 160
WIRE 928 160 896 160
WIRE 2064 160 2032 160
WIRE 2192 160 2160 160
WIRE 848 192 848 160
WIRE 2112 192 2112 160
WIRE 592 208 592 160
WIRE 848 208 848 192
WIRE 2112 208 2112 192
WIRE 1184 240 1184 176
WIRE 1632 240 1184 240
WIRE 1808 240 1632 240
WIRE 1888 240 1888 -288
WIRE 1888 240 1808 240
WIRE 2032 240 2032 160
WIRE 2032 240 1888 240
WIRE 2192 240 2192 160
WIRE 2240 240 2240 -288
WIRE 2240 240 2192 240
WIRE 2288 240 2288 96
WIRE 2288 240 2240 240
WIRE 2384 240 2384 176
WIRE 2752 240 2384 240
WIRE 3008 240 2752 240
WIRE 3088 240 3088 -288
WIRE 3088 240 3008 240
WIRE 768 272 768 160
WIRE 768 272 704 272
WIRE 928 272 928 160
WIRE 992 272 928 272
WIRE 1040 272 1040 -288
WIRE 1040 272 992 272
WIRE 1088 272 1088 96
WIRE 1088 272 1040 272
WIRE 592 288 592 272
WIRE 1184 304 1184 240
WIRE 1632 304 1632 240
WIRE 2384 304 2384 240
WIRE 2752 304 2752 240
WIRE 416 336 416 272
WIRE 592 336 592 288
WIRE 992 336 992 272
WIRE 2240 336 2240 240
WIRE 1200 352 1184 352
WIRE 2400 352 2384 352
WIRE 1088 384 1088 272
WIRE 1136 384 1088 384
WIRE 2288 384 2288 240
WIRE 2336 384 2288 384
WIRE 1200 400 1200 352
WIRE 1200 400 1184 400
WIRE 2400 400 2400 352
WIRE 2400 400 2384 400
WIRE 768 416 768 272
WIRE 800 416 768 416
WIRE 848 416 848 368
WIRE 928 416 928 272
WIRE 928 416 896 416
WIRE 2032 416 2032 240
WIRE 2064 416 2032 416
WIRE 2112 416 2112 368
WIRE 2192 416 2192 240
WIRE 2192 416 2160 416
WIRE 1632 432 1632 368
WIRE 2752 432 2752 368
WIRE 416 464 416 416
WIRE 592 464 592 416
WIRE 992 464 992 400
WIRE 1184 464 1184 400
WIRE 2240 464 2240 400
WIRE 2384 464 2384 400
WIRE 880 512 880 464
WIRE 2144 512 2144 464
WIRE 1744 640 1632 640
WIRE 1856 640 1744 640
WIRE 1904 640 1856 640
WIRE 1744 672 1744 640
WIRE 1856 688 1856 640
WIRE 1744 800 1744 752
WIRE 1744 800 1632 800
WIRE 1856 800 1856 752
WIRE 1856 800 1744 800
FLAG 1184 464 0
FLAG 592 464 0
FLAG 1744 -96 0
FLAG 592 -64 0
FLAG 816 -64 0
FLAG 720 -272 CLK
FLAG 816 -288 CLKB
FLAG 816 64 CLKB
FLAG 880 512 CLK
FLAG 848 368 VDD
FLAG 848 192 0
FLAG 704 272 D
FLAG 1456 -496 CLK
FLAG 1392 -48 CLKB
FLAG 1424 -192 VDD
FLAG 1424 -368 0
FLAG 1200 64 VDD
FLAG 1744 -464 VDD
FLAG 1808 240 o1
FLAG 832 -464 VDD
FLAG 2384 464 0
FLAG 2944 -96 0
FLAG 2080 64 CLK
FLAG 2144 512 CLKB
FLAG 2112 368 VDD
FLAG 2112 192 0
FLAG 2656 -496 CLKB
FLAG 2592 -48 CLK
FLAG 2624 -192 VDD
FLAG 2624 -368 0
FLAG 2400 64 VDD
FLAG 2944 -464 VDD
FLAG 3008 240 Q
FLAG 592 208 0
FLAG 704 16 VDD
FLAG 1632 640 o1
FLAG 1632 800 0
FLAG 1632 432 0
FLAG 2752 432 0
FLAG 992 464 0
FLAG 2240 464 0
FLAG 416 464 0
FLAG 416 272 N005
FLAG 592 288 D
SYMBOL voltage 592 320 R0
WINDOW 3 91 111 Right 2
SYMATTR Value 0
SYMATTR InstName D
SYMATTR Value2 AC 1
SYMBOL nmos4 1136 304 R0
SYMATTR InstName M1
SYMATTR Value iucreate_nmos
SYMATTR Value2 l=0.5u w=1.5u
SYMBOL pmos4 1136 176 M180
SYMATTR InstName M2
SYMATTR Value iucreate_pmos
SYMATTR Value2 l=0.5u w=3.5u
SYMBOL nmos4 1792 -224 M0
SYMATTR InstName M3
SYMATTR Value iucreate_nmos
SYMATTR Value2 l=0.5u w=1.5u
SYMBOL pmos4 1792 -352 R180
SYMATTR InstName M4
SYMATTR Value iucreate_pmos
SYMATTR Value2 l=0.5u w=3.5u
SYMBOL current 1744 672 R0
WINDOW 3 24 80 Invisible 0
SYMATTR Value EXP(0 {IPEAK} {TS} 5p {TS+0.01n} 1n)
SYMATTR InstName ISET
SYMBOL diode 1872 752 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMBOL nmos4 896 112 R90
SYMATTR InstName M7
SYMATTR Value iucreate_nmos
SYMATTR Value2 l=0.5u w=1.5u
SYMBOL voltage 592 -208 R0
WINDOW 3 -38 57 Right 2
SYMATTR Value PULSE(0 3.3 5n 1p 1p 5n 10n)
SYMATTR InstName CLK
SYMATTR Value2 AC 1
SYMBOL pmos4 800 464 R270
SYMATTR InstName M8
SYMATTR Value iucreate_pmos
SYMATTR Value2 l=0.5u w=1.5u
SYMBOL nmos4 768 -224 R0
SYMATTR InstName M9
SYMATTR Value iucreate_nmos
SYMATTR Value2 l=0.5u w=1.5u
SYMBOL pmos4 768 -352 M180
SYMATTR InstName M10
SYMATTR Value iucreate_pmos
SYMATTR Value2 l=0.5u w=3.5u
SYMBOL nmos4 1376 -448 M90
SYMATTR InstName M5
SYMATTR Value iucreate_nmos
SYMATTR Value2 l=0.5u w=1.5u
SYMBOL pmos4 1472 -96 M270
SYMATTR InstName M6
SYMATTR Value iucreate_pmos
SYMATTR Value2 l=0.5u w=1.5u
SYMBOL nmos4 2336 304 R0
SYMATTR InstName M11
SYMATTR Value iucreate_nmos
SYMATTR Value2 l=0.5u w=1.5u
SYMBOL pmos4 2336 176 M180
SYMATTR InstName M12
SYMATTR Value iucreate_pmos
SYMATTR Value2 l=0.5u w=3.5u
SYMBOL nmos4 2992 -224 M0
SYMATTR InstName M13
SYMATTR Value iucreate_nmos
SYMATTR Value2 l=0.5u w=1.5u
SYMBOL pmos4 2992 -352 R180
SYMATTR InstName M14
SYMATTR Value iucreate_pmos
SYMATTR Value2 l=0.5u w=3.5u
SYMBOL nmos4 2160 112 R90
SYMATTR InstName M15
SYMATTR Value iucreate_nmos
SYMATTR Value2 l=0.5u w=1.5u
SYMBOL pmos4 2064 464 R270
SYMATTR InstName M16
SYMATTR Value iucreate_pmos
SYMATTR Value2 l=0.5u w=1.5u
SYMBOL nmos4 2576 -448 M90
SYMATTR InstName M17
SYMATTR Value iucreate_nmos
SYMATTR Value2 l=0.5u w=1.5u
SYMBOL pmos4 2672 -96 M270
SYMATTR InstName M18
SYMATTR Value iucreate_pmos
SYMATTR Value2 l=0.5u w=1.5u
SYMBOL voltage 592 64 R0
WINDOW 3 91 111 Right 2
SYMATTR Value 3.3
SYMATTR InstName VDD
SYMATTR Value2 AC 1
SYMBOL cap 1616 304 R0
SYMATTR InstName C2
SYMATTR Value {CL}
SYMBOL cap 2736 304 R0
SYMATTR InstName C4
SYMATTR Value {CL}
SYMBOL cap 976 336 R0
SYMATTR InstName C1
SYMATTR Value {CL}
SYMBOL cap 2224 336 R0
SYMATTR InstName C3
SYMATTR Value {CL}
SYMBOL voltage 416 320 R0
WINDOW 3 91 111 Right 2
SYMATTR Value PULSE(0 3.3 7.5n 1p 1p 10n 20n)
SYMATTR InstName D2
SYMATTR Value2 AC 1
TEXT 728 576 Left 2 !.op
TEXT 720 968 Left 2 !.model iucreate_nmos nmos (LEVEL = 3 TOX = 1.4E-8 NSUB = 1E17 \n+ GAMMA = 0.5483559 PHI = 0.7 VTO = 0.7640855\n+ DELTA = 3.0541177\n+ UO = 662.6984452\n+ ETA = 3.162045E-6\n+ THETA = 0.1013999\n+ KP = 1.259355E-4\n+ VMAX = 1.442228E5\n+ KAPPA = 0.3\n+ RSH = 7.513418E-3\n+ NFS = 1E12\n+ TPG = 1\n+ XJ = 3E-7\n+ LD = 1E-13\n+ WD = 2.334779E-7\n+ CGDO = 2.15E-10\n+ CGSO = 2.15E-10\n+ CGBO = 1E-10\n+ CJ = 4.258447E-4\n+ PB = 0.9140376\n+ MJ = 0.435903\n+ CJSW = 3.147465E-10\n+ MJSW = 0.1977689 )
TEXT 1504 976 Left 2 !.model iucreate_pmos pmos ( LEVEL = 3 TOX = 1.4E-8 NSUB = 1E17\n+ GAMMA = 0.6243261 PHI = 0.7 VTO = -0.9444911\n+ DELTA = 0.1118368\n+ UO = 250\n+ ETA = 0\n+ THETA = 0.1633973\n+ KP = 3.924644E-5\n+ VMAX = 1E6\n+ KAPPA = 30.1015109\n+ RSH = 33.9672594\n+ NFS = 1E12\n+ TPG = -1\n+ XJ = 2E-7\n+ LD = 5E-13\n+ WD = 4.11531E-7\n+ CGDO = 2.34E-10\n+ CGSO = 2.34E-10\n+ CGBO = 1E-10\n+ CJ = 7.285722E-4\n+ PB = 0.96443\n+ MJ = 0.5\n+ CJSW = 2.955161E-10\n+ MJSW = 0.3184873 )
TEXT 728 776 Left 2 !.tran 0 100n 0.1n
TEXT 728 888 Left 2 !.meas TRAN QCOL INTEG I(ISET)\n.meas TRAN LET INTEG I(ISET)/1e-12/.01/5
TEXT 728 624 Left 2 !.param TS = 37n
TEXT 2008 672 Left 2 ;SET Current Source Model\nParameters: \nIPEAK [A]: peak of SET current pulse\nTS{s}: start time of SET current\nnote that the TauR and TauF parameters are fixed to
TEXT 728 696 Left 2 !.step param CL 0f 200f 50f
TEXT 728 600 Left 2 !.param CL = 0f
TEXT 728 800 Left 2 ;.step param TS 35n 45n 1n
TEXT 728 672 Left 2 ;.step param IPEAK .4m .5m .01m
TEXT 728 648 Left 2 !.param IPEAK = 0.48m
RECTANGLE Normal 1552 584 1984 836 2
