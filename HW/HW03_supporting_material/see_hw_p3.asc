Version 4
SHEET 1 2536 1352
WIRE 432 176 432 144
WIRE 448 176 432 176
WIRE 560 176 448 176
WIRE 784 176 560 176
WIRE 800 176 784 176
WIRE 1168 176 800 176
WIRE 1184 176 1168 176
WIRE 432 192 432 176
WIRE 784 192 784 176
WIRE 1168 192 1168 176
WIRE 384 208 336 208
WIRE 736 208 688 208
WIRE 1120 208 1072 208
WIRE 448 240 448 176
WIRE 448 240 432 240
WIRE 800 240 800 176
WIRE 800 240 784 240
WIRE 1184 240 1184 176
WIRE 1184 240 1168 240
WIRE 336 352 336 208
WIRE 336 352 160 352
WIRE 432 352 432 288
WIRE 688 352 688 208
WIRE 688 352 432 352
WIRE 784 352 784 288
WIRE 800 352 784 352
WIRE 912 352 800 352
WIRE 1024 352 912 352
WIRE 1072 352 1072 208
WIRE 1072 352 1024 352
WIRE 1168 352 1168 288
WIRE 1312 352 1168 352
WIRE 1424 352 1312 352
WIRE 336 368 336 352
WIRE 912 384 912 352
WIRE 1424 384 1424 352
WIRE 1024 400 1024 352
WIRE 160 416 160 352
WIRE 432 416 432 352
WIRE 784 416 784 352
WIRE 1168 416 1168 352
WIRE 448 464 432 464
WIRE 800 464 784 464
WIRE 1184 464 1168 464
WIRE 336 496 336 368
WIRE 384 496 336 496
WIRE 688 496 688 352
WIRE 736 496 688 496
WIRE 1072 496 1072 352
WIRE 1120 496 1072 496
WIRE 448 512 448 464
WIRE 448 512 432 512
WIRE 800 512 800 464
WIRE 800 512 784 512
WIRE 912 512 912 464
WIRE 912 512 800 512
WIRE 1024 512 1024 464
WIRE 1024 512 912 512
WIRE 1184 512 1184 464
WIRE 1184 512 1168 512
WIRE 1424 512 1424 448
WIRE 1424 512 1184 512
WIRE 160 544 160 496
WIRE 432 544 432 512
WIRE 784 544 784 512
WIRE 1168 544 1168 512
FLAG 432 64 0
FLAG 432 544 0
FLAG 336 368 IN
FLAG 432 352 o1
FLAG 160 544 0
FLAG 784 544 0
FLAG 1168 544 0
FLAG 800 352 o2
FLAG 1312 352 OUT
FLAG 560 176 VDD
SYMBOL voltage 432 160 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
SYMATTR InstName VDD
SYMATTR Value 3.3
SYMBOL nmos4 384 416 R0
SYMATTR InstName M1
SYMATTR Value iucreate_nmos
SYMATTR Value2 l=0.5u w=1.5u
SYMBOL pmos4 384 288 M180
SYMATTR InstName M2
SYMATTR Value iucreate_pmos
SYMATTR Value2 l=0.5u w=3.5u
SYMBOL nmos4 736 416 R0
SYMATTR InstName M3
SYMATTR Value iucreate_nmos
SYMATTR Value2 l=0.5u w=1.5u
SYMBOL pmos4 736 288 M180
SYMATTR InstName M4
SYMATTR Value iucreate_pmos
SYMATTR Value2 l=0.5u w=3.5u
SYMBOL nmos4 1120 416 R0
SYMATTR InstName M5
SYMATTR Value iucreate_nmos
SYMATTR Value2 l=0.5u w=1.5u
SYMBOL pmos4 1120 288 M180
SYMATTR InstName M6
SYMATTR Value iucreate_pmos
SYMATTR Value2 l=0.5u w=3.5u
SYMBOL cap 1408 384 R0
SYMATTR InstName CL
SYMATTR Value 10f
SYMBOL current 912 384 R0
WINDOW 3 24 80 Invisible 0
SYMATTR Value EXP(0 .75m 8n 10p 8.001n 1n)
SYMATTR InstName ISET
SYMBOL diode 1040 464 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMBOL voltage 160 400 R0
WINDOW 3 -38 57 Right 2
SYMATTR Value 3.3
SYMATTR InstName VG1
SYMATTR Value2 AC 1
SYMBOL current 880 -48 R0
SYMATTR InstName I1
TEXT 0 568 Left 2 !.op
TEXT 0 592 Left 2 ;.dc VG 0 3.3 0.05
TEXT 0 696 Left 2 !.model iucreate_nmos nmos (LEVEL = 3 TOX = 1.4E-8 NSUB = 1E17 \n+ GAMMA = 0.5483559 PHI = 0.7 VTO = 0.7640855\n+ DELTA = 3.0541177\n+ UO = 662.6984452\n+ ETA = 3.162045E-6\n+ THETA = 0.1013999\n+ KP = 1.259355E-4\n+ VMAX = 1.442228E5\n+ KAPPA = 0.3\n+ RSH = 7.513418E-3\n+ NFS = 1E12\n+ TPG = 1\n+ XJ = 3E-7\n+ LD = 1E-13\n+ WD = 2.334779E-7\n+ CGDO = 2.15E-10\n+ CGSO = 2.15E-10\n+ CGBO = 1E-10\n+ CJ = 4.258447E-4\n+ PB = 0.9140376\n+ MJ = 0.435903\n+ CJSW = 3.147465E-10\n+ MJSW = 0.1977689 )
TEXT 784 704 Left 2 !.model iucreate_pmos pmos ( LEVEL = 3 TOX = 1.4E-8 NSUB = 1E17\n+ GAMMA = 0.6243261 PHI = 0.7 VTO = -0.9444911\n+ DELTA = 0.1118368\n+ UO = 250\n+ ETA = 0\n+ THETA = 0.1633973\n+ KP = 3.924644E-5\n+ VMAX = 1E6\n+ KAPPA = 30.1015109\n+ RSH = 33.9672594\n+ NFS = 1E12\n+ TPG = -1\n+ XJ = 2E-7\n+ LD = 5E-13\n+ WD = 4.11531E-7\n+ CGDO = 2.34E-10\n+ CGSO = 2.34E-10\n+ CGBO = 1E-10\n+ CJ = 7.285722E-4\n+ PB = 0.96443\n+ MJ = 0.5\n+ CJSW = 2.955161E-10\n+ MJSW = 0.3184873 )
TEXT 0 616 Left 2 !.tran 0 20n 0.1n
TEXT -8 1248 Left 2 !.meas TRAN QCOL INTEG I(ISET)/1e-15\n.meas TRAN LET INTEG I(ISET)/1e-12/0.01/5\n.meas TRAN PW TRIG V(OUT) VAL=1.65 cross=1 TARG V(OUT) VAL=1.65 cross=2
